/* * Copyright © 2019-2021 chenwenbin * Released under the MIT License. */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).scroll=e()}(this,(function(){"use strict";var t=function(t){try{return!!t()}catch(t){return!0}},e=!t((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||function(){return this}()||Function("return this")(),s=function(t){return"object"==typeof t?null!==t:"function"==typeof t},a=i.document,c=s(a)&&s(a.createElement),u=!e&&!t((function(){return 7!=Object.defineProperty((t="div",c?a.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),l=function(t){if(!s(t))throw TypeError(String(t)+" is not an object");return t},f=function(t,e){if(!s(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!s(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!s(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!s(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},h=Object.defineProperty,p={f:e?h:function(t,e,n){if(l(t),e=f(e,!0),l(n),u)try{return h(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},d=p.f,g=Function.prototype,v=g.toString,y=/^\s*function ([^ (]*)/,m="name";e&&!(m in g)&&d(g,m,{configurable:!0,get:function(){try{return v.call(this).match(y)[1]}catch(t){return""}}});var b={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,w={f:S&&!b.call({1:2},1)?function(t){var e=S(this,t);return!!e&&e.enumerable}:b},O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},x={}.toString,Y=function(t){return x.call(t).slice(8,-1)},B="".split,E=t((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Y(t)?B.call(t,""):Object(t)}:Object,C=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},M=function(t){return E(C(t))},_={}.hasOwnProperty,P=function(t,e){return _.call(t,e)},T=Object.getOwnPropertyDescriptor,j={f:e?T:function(t,e){if(t=M(t),e=f(e,!0),u)try{return T(t,e)}catch(t){}if(P(t,e))return O(!w.f.call(t,e),t[e])}},H=e?function(t,e,n){return p.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},R=function(t,e){try{H(i,t,e)}catch(n){i[t]=e}return e},I="__core-js_shared__",X=i[I]||R(I,{}),A=Function.toString;"function"!=typeof X.inspectSource&&(X.inspectSource=function(t){return A.call(t)});var L,$,k,F,N=X.inspectSource,D=i.WeakMap,V="function"==typeof D&&/native code/.test(N(D)),z=r((function(t){(t.exports=function(t,e){return X[t]||(X[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),W=0,Z=Math.random(),G=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++W+Z).toString(36)},U=z("keys"),q={},K=i.WeakMap;if(V){var J=X.state||(X.state=new K),Q=J.get,tt=J.has,et=J.set;L=function(t,e){return e.facade=t,et.call(J,t,e),e},$=function(t){return Q.call(J,t)||{}},k=function(t){return tt.call(J,t)}}else{var nt=U[F="state"]||(U[F]=G(F));q[nt]=!0,L=function(t,e){return e.facade=t,H(t,nt,e),e},$=function(t){return P(t,nt)?t[nt]:{}},k=function(t){return P(t,nt)}}var rt,ot,it={set:L,get:$,has:k,enforce:function(t){return k(t)?$(t):L(t,{})},getterFor:function(t){return function(e){var n;if(!s(e)||(n=$(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},st=r((function(t){var e=it.get,n=it.enforce,r=String(String).split("String");(t.exports=function(t,e,o,s){var a,c=!!s&&!!s.unsafe,u=!!s&&!!s.enumerable,l=!!s&&!!s.noTargetGet;"function"==typeof o&&("string"!=typeof e||P(o,"name")||H(o,"name",e),(a=n(o)).source||(a.source=r.join("string"==typeof e?e:""))),t!==i?(c?!l&&t[e]&&(u=!0):delete t[e],u?t[e]=o:H(t,e,o)):u?t[e]=o:R(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||N(this)}))})),at=i,ct=function(t){return"function"==typeof t?t:void 0},ut=function(t,e){return arguments.length<2?ct(at[t])||ct(i[t]):at[t]&&at[t][e]||i[t]&&i[t][e]},lt=Math.ceil,ft=Math.floor,ht=function(t){return isNaN(t=+t)?0:(t>0?ft:lt)(t)},pt=Math.min,dt=function(t){return t>0?pt(ht(t),9007199254740991):0},gt=Math.max,vt=Math.min,yt=function(t){return function(e,n,r){var o,i=M(e),s=dt(i.length),a=function(t,e){var n=ht(t);return n<0?gt(n+e,0):vt(n,e)}(r,s);if(t&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((t||a in i)&&i[a]===n)return t||a||0;return!t&&-1}},mt={includes:yt(!0),indexOf:yt(!1)},bt=mt.indexOf,St=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),wt={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,r=M(t),o=0,i=[];for(n in r)!P(q,n)&&P(r,n)&&i.push(n);for(;e.length>o;)P(r,n=e[o++])&&(~bt(i,n)||i.push(n));return i}(t,St)}},Ot={f:Object.getOwnPropertySymbols},xt=ut("Reflect","ownKeys")||function(t){var e=wt.f(l(t)),n=Ot.f;return n?e.concat(n(t)):e},Yt=function(t,e){for(var n=xt(e),r=p.f,o=j.f,i=0;i<n.length;i++){var s=n[i];P(t,s)||r(t,s,o(e,s))}},Bt=/#|\.prototype\./,Et=function(e,n){var r=Mt[Ct(e)];return r==Pt||r!=_t&&("function"==typeof n?t(n):!!n)},Ct=Et.normalize=function(t){return String(t).replace(Bt,".").toLowerCase()},Mt=Et.data={},_t=Et.NATIVE="N",Pt=Et.POLYFILL="P",Tt=Et,jt=j.f,Ht=function(t,e){var n,r,o,s,a,c=t.target,u=t.global,l=t.stat;if(n=u?i:l?i[c]||R(c,{}):(i[c]||{}).prototype)for(r in e){if(s=e[r],o=t.noTargetGet?(a=jt(n,r))&&a.value:n[r],!Tt(u?r:c+(l?".":"#")+r,t.forced)&&void 0!==o){if(typeof s==typeof o)continue;Yt(s,o)}(t.sham||o&&o.sham)&&H(s,"sham",!0),st(n,r,s,t)}},Rt=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function")}(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,o){return t.call(e,n,r,o)}}return function(){return t.apply(e,arguments)}},It=Array.isArray||function(t){return"Array"==Y(t)},Xt=!!Object.getOwnPropertySymbols&&!t((function(){return!String(Symbol())})),At=Xt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Lt=z("wks"),$t=i.Symbol,kt=At?$t:$t&&$t.withoutSetter||G,Ft=function(t){return P(Lt,t)||(Xt&&P($t,t)?Lt[t]=$t[t]:Lt[t]=kt("Symbol."+t)),Lt[t]},Nt=Ft("species"),Dt=function(t,e){var n;return It(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!It(n.prototype)?s(n)&&null===(n=n[Nt])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)},Vt=[].push,zt=function(t){var e=1==t,n=2==t,r=3==t,o=4==t,i=6==t,s=7==t,a=5==t||i;return function(c,u,l,f){for(var h,p,d=Object(C(c)),g=E(d),v=Rt(u,l,3),y=dt(g.length),m=0,b=f||Dt,S=e?b(c,y):n||s?b(c,0):void 0;y>m;m++)if((a||m in g)&&(p=v(h=g[m],m,d),t))if(e)S[m]=p;else if(p)switch(t){case 3:return!0;case 5:return h;case 6:return m;case 2:Vt.call(S,h)}else switch(t){case 4:return!1;case 7:Vt.call(S,h)}return i?-1:r||o?o:S}},Wt={forEach:zt(0),map:zt(1),filter:zt(2),some:zt(3),every:zt(4),find:zt(5),findIndex:zt(6),filterOut:zt(7)},Zt=ut("navigator","userAgent")||"",Gt=i.process,Ut=Gt&&Gt.versions,qt=Ut&&Ut.v8;qt?ot=(rt=qt.split("."))[0]+rt[1]:Zt&&(!(rt=Zt.match(/Edge\/(\d+)/))||rt[1]>=74)&&(rt=Zt.match(/Chrome\/(\d+)/))&&(ot=rt[1]);var Kt,Jt=ot&&+ot,Qt=Ft("species"),te=Object.defineProperty,ee={},ne=function(t){throw t},re=function(n,r){if(P(ee,n))return ee[n];r||(r={});var o=[][n],i=!!P(r,"ACCESSORS")&&r.ACCESSORS,s=P(r,0)?r[0]:ne,a=P(r,1)?r[1]:void 0;return ee[n]=!!o&&!t((function(){if(i&&!e)return!0;var t={length:-1};i?te(t,1,{enumerable:!0,get:ne}):t[1]=1,o.call(t,s,a)}))},oe=Wt.filter,ie=(Kt="filter",Jt>=51||!t((function(){var t=[];return(t.constructor={})[Qt]=function(){return{foo:1}},1!==t[Kt](Boolean).foo}))),se=re("filter");Ht({target:"Array",proto:!0,forced:!ie||!se},{filter:function(t){return oe(this,t,arguments.length>1?arguments[1]:void 0)}});var ae=mt.indexOf,ce=[].indexOf,ue=!!ce&&1/[1].indexOf(1,-0)<0,le=function(e,n){var r=[][e];return!!r&&t((function(){r.call(null,n||function(){throw 1},1)}))}("indexOf"),fe=re("indexOf",{ACCESSORS:!0,1:0});Ht({target:"Array",proto:!0,forced:ue||!le||!fe},{indexOf:function(t){return ue?ce.apply(this,arguments)||0:ae(this,t,arguments.length>1?arguments[1]:void 0)}});var he="\t\n\v\f\r                　\u2028\u2029\ufeff",pe="["+he+"]",de=RegExp("^"+pe+pe+"*"),ge=RegExp(pe+pe+"*$"),ve=function(t){return function(e){var n=String(C(e));return 1&t&&(n=n.replace(de,"")),2&t&&(n=n.replace(ge,"")),n}},ye={start:ve(1),end:ve(2),trim:ve(3)},me=ye.trim;function be(t){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Ht({target:"String",proto:!0,forced:function(e){return t((function(){return!!he[e]()||"​᠎"!="​᠎"[e]()||he[e].name!==e}))}("trim")},{trim:function(){return me(this)}});var Se=["rotate","rotateX","rotateY","rotateZ","translateX","translateY","translateZ","scale","scaleX","scaleY","skewX","skewY"],we=["width","height","left","top","right","bottom","marginBottom","marginLeft","marginRight","marginTop","paddingLeft","paddingRight","paddingTop","paddingBottom"];function Oe(t,e,n){if("object"!==be(e))return Se.indexOf(e)>=0?function(t,e,n){if(t.transform=t.transform||{},void 0===n)return t.transform[e];t.transform[e]=n;var r="";for(var o in t.transform)switch(o){case"rotate":case"rotateX":case"rotateY":case"rotateZ":case"skewX":case"skewY":r+=o+"("+t.transform[o]+"deg) ";break;case"translateX":case"translateY":case"translateZ":r+=o+"("+t.transform[o]+"px) ";break;case"scale":case"scaleX":case"scaleY":r+=o+"("+t.transform[o]+") "}t.style.transform=r.trim()}(t,e,n):void 0===n?(n=getComputedStyle(t)[e],we.indexOf(e)>=0||!isNaN(n)?parseFloat(n):n):void("opacity"===e?(t.style[e]=n,t.style.filter="alpha(opacity="+100*n+")"):we.indexOf(e)>=0?t.style[e]=n+"px":t.style[e]="zIndex"===e?Math.round(n):n);for(var r in e)Oe(t,r,e[r])}function xe(t,e,n,r,o,i,s,a,c,u){"boolean"!=typeof s&&(c=a,a=s,s=!1); var l="function"==typeof n?n.options:n;let f;if(t&&t.render&&(l.render=t.render,l.staticRenderFns=t.staticRenderFns,l._compiled=!0,o&&(l.functional=!0)),r&&(l._scopeId=r),i?(f=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,c(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=f):e&&(f=s?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,a(t))}),f)if(l.functional){ var t=l.render;l.render=function(e,n){return f.call(n),t(e,n)}}else{ var t=l.beforeCreate;l.beforeCreate=t?[].concat(t,f):[f]}return n} var Ye={name:"RScroll",data:function(){return{scrollBarVisible:!1,isScrolling:!1,startPosition:void 0,endPosition:void 0,scrollBarY:0,scrollBarX:0,parentHight:void 0,childHeight:void 0,barHeight:void 0,contentY:0}},mounted:function(){this.listenToDocument();var t=this.$refs.parent,e=this.$refs.child.getBoundingClientRect().height,n=t.getBoundingClientRect().height;this.parentHight=n,this.childHeight=e,this.updateScrollBar()},computed:{maxScrollHeight:function(){return this.parentHight-this.barHeight}},beforeDestroy:function(){document.removeEventListener("mousemove",this.onMousemoveScrollBar),document.removeEventListener("mouseup",this.onMouseupScrollBar)},methods:{listenToDocument:function(){document.addEventListener("mousemove",this.onMousemoveScrollBar),document.addEventListener("mouseup",this.onMouseupScrollBar)},onMousewheel:function(t){var e=this.getMaxContentY();t.deltaY>20?this.contentY-=60:t.deltaY<20?this.contentY-=-60:this.contentY-=3*t.deltaY,this.contentY>0?this.contentY=0:this.contentY<-e?this.contentY=-e:t.preventDefault(),this.updateScrollBar()},getMaxContentY:function(){var t=getComputedStyle(this.$refs.parent),e=t.borderTopWidth,n=t.borderBottomWidth,r=t.paddingBottom,o=t.paddingTop;return e=parseInt(e),n=parseInt(n),r=parseInt(r),o=parseInt(o),this.childHeight-this.parentHight+e+n+r+o},onMousedownScrollBar:function(t){this.isScrolling=!0;var e=t.screenX,n=t.screenY;this.startPosition={x:e,y:n}},onMouseupScrollBar:function(){this.isScrolling=!1},onMousemoveScrollBar:function(t){if(this.isScrolling){var e=t.screenX,n=t.screenY;this.endPosition={x:e,y:n};var r=this.endPosition.x-this.startPosition.x,o=this.endPosition.y-this.startPosition.y;this.scrollBarX=parseInt(this.scrollBarX)+r,this.scrollBarY=parseInt(this.scrollBarY)+o,this.scrollBarY<0?this.scrollBarY=0:this.scrollBarY>this.maxScrollHeight&&(this.scrollBarY=this.maxScrollHeight),this.contentY=-this.childHeight*this.scrollBarY/this.parentHight,this.startPosition=this.endPosition,this.$refs.bar.style.transform="translate(0px, ".concat(this.scrollBarY,"px)")}},onselectStartBar:function(t){t.preventDefault()},updateScrollBar:function(){var t=this.parentHight,e=this.childHeight;this.barHeight=Math.pow(t,2)/e;var n=this.$refs.bar;Oe(n,"height",this.barHeight),this.scrollBarY=-t*this.contentY/e,Oe(n,"translateY",this.scrollBarY)},onMouseEnter:function(){this.scrollBarVisible=!0},onMouseLeave:function(){this.scrollBarVisible=!1,this.isScrolling=!1}}};var Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"parent",staticClass:"r-scroll-wrapper",on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave,wheel:t.onMousewheel}},[n("div",{ref:"child",staticClass:"r-scroll",style:{transform:"translateY("+t.contentY+"px)"}},[t._t("default")],2),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.scrollBarVisible,expression:"scrollBarVisible"}],staticClass:"r-scroll-bar-wrapper"},[n("div",{ref:"bar",staticClass:"r-scroll-bar",on:{mousedown:t.onMousedownScrollBar,selectstart:t.onselectStartBar}},[n("div",{staticClass:"r-scroll-bar-inner"})])])])};Be._withStripped=!0; var Ee=xe({render:Be,staticRenderFns:[]},undefined,Ye,"data-v-514e12fe",false,undefined,!1,void 0,void 0,void 0);return Ee.install=function(t){t.component(Ee.name,Ee)},Ee}));

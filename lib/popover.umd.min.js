/* * Copyright © 2019-2021 chenwenbin * Released under the MIT License. */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).popover=e()}(this,(function(){"use strict";var t=function(t){try{return!!t()}catch(t){return!0}},e=!t((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function r(t,e){return t(e={exports:{}},e.exports),e.exports}var o=function(t){return t&&t.Math==Math&&t},i=o("object"==typeof globalThis&&globalThis)||o("object"==typeof window&&window)||o("object"==typeof self&&self)||o("object"==typeof n&&n)||function(){return this}()||Function("return this")(),c=function(t){return"object"==typeof t?null!==t:"function"==typeof t},s=i.document,f=c(s)&&c(s.createElement),u=!e&&!t((function(){return 7!=Object.defineProperty((t="div",f?s.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),a=function(t){if(!c(t))throw TypeError(String(t)+" is not an object");return t},l=function(t,e){if(!c(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!c(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!c(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!c(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},p=Object.defineProperty,d={f:e?p:function(t,e,n){if(a(t),e=l(e,!0),a(n),u)try{return p(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},h=d.f,v=Function.prototype,g=v.toString,y=/^\s*function ([^ (]*)/,m="name";e&&!(m in v)&&h(v,m,{configurable:!0,get:function(){try{return g.call(this).match(y)[1]}catch(t){return""}}});var b={}.propertyIsEnumerable,w=Object.getOwnPropertyDescriptor,S={f:w&&!b.call({1:2},1)?function(t){var e=w(this,t);return!!e&&e.enumerable}:b},O=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},C={}.toString,_="".split,E=t((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==function(t){return C.call(t).slice(8,-1)}(t)?_.call(t,""):Object(t)}:Object,k=function(t){return E(function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}(t))},x={}.hasOwnProperty,$=function(t,e){return x.call(t,e)},j=Object.getOwnPropertyDescriptor,P={f:e?j:function(t,e){if(t=k(t),e=l(e,!0),u)try{return j(t,e)}catch(t){}if($(t,e))return O(!S.f.call(t,e),t[e])}},T=e?function(t,e,n){return d.f(t,e,O(1,n))}:function(t,e,n){return t[e]=n,t},L=function(t,e){try{T(i,t,e)}catch(n){i[t]=e}return e},R="__core-js_shared__",W=i[R]||L(R,{}),M=Function.toString;"function"!=typeof W.inspectSource&&(W.inspectSource=function(t){return M.call(t)});var F,D,I,N,A=W.inspectSource,X=i.WeakMap,Y="function"==typeof X&&/native code/.test(A(X)),B=r((function(t){(t.exports=function(t,e){return W[t]||(W[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.8.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),z=0,V=Math.random(),G=B("keys"),U={},q=i.WeakMap;if(Y){var K=W.state||(W.state=new q),H=K.get,J=K.has,Q=K.set;F=function(t,e){return e.facade=t,Q.call(K,t,e),e},D=function(t){return H.call(K,t)||{}},I=function(t){return J.call(K,t)}}else{var Z=G[N="state"]||(G[N]=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++z+V).toString(36)}(N));U[Z]=!0,F=function(t,e){return e.facade=t,T(t,Z,e),e},D=function(t){return $(t,Z)?t[Z]:{}},I=function(t){return $(t,Z)}}var tt,et,nt={set:F,get:D,has:I,enforce:function(t){return I(t)?D(t):F(t,{})},getterFor:function(t){return function(e){var n;if(!c(e)||(n=D(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},rt=r((function(t){var e=nt.get,n=nt.enforce,r=String(String).split("String");(t.exports=function(t,e,o,c){var s,f=!!c&&!!c.unsafe,u=!!c&&!!c.enumerable,a=!!c&&!!c.noTargetGet;"function"==typeof o&&("string"!=typeof e||$(o,"name")||T(o,"name",e),(s=n(o)).source||(s.source=r.join("string"==typeof e?e:""))),t!==i?(f?!a&&t[e]&&(u=!0):delete t[e],u?t[e]=o:T(t,e,o)):u?t[e]=o:L(e,o)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||A(this)}))})),ot=i,it=function(t){return"function"==typeof t?t:void 0},ct=Math.ceil,st=Math.floor,ft=function(t){return isNaN(t=+t)?0:(t>0?st:ct)(t)},ut=Math.min,at=Math.max,lt=Math.min,pt=function(t){return function(e,n,r){var o,i,c=k(e),s=(o=c.length)>0?ut(ft(o),9007199254740991):0,f=function(t,e){var n=ft(t);return n<0?at(n+e,0):lt(n,e)}(r,s);if(t&&n!=n){for(;s>f;)if((i=c[f++])!=i)return!0}else for(;s>f;f++)if((t||f in c)&&c[f]===n)return t||f||0;return!t&&-1}},dt={includes:pt(!0),indexOf:pt(!1)},ht=dt.indexOf,vt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"].concat("length","prototype"),gt={f:Object.getOwnPropertyNames||function(t){return function(t,e){var n,r=k(t),o=0,i=[];for(n in r)!$(U,n)&&$(r,n)&&i.push(n);for(;e.length>o;)$(r,n=e[o++])&&(~ht(i,n)||i.push(n));return i}(t,vt)}},yt={f:Object.getOwnPropertySymbols},mt=function(t,e){return arguments.length<2?it(ot[t])||it(i[t]):ot[t]&&ot[t][e]||i[t]&&i[t][e]}("Reflect","ownKeys")||function(t){var e=gt.f(a(t)),n=yt.f;return n?e.concat(n(t)):e},bt=function(t,e){for(var n=mt(e),r=d.f,o=P.f,i=0;i<n.length;i++){var c=n[i];$(t,c)||r(t,c,o(e,c))}},wt=/#|\.prototype\./,St=function(e,n){var r=Ct[Ot(e)];return r==Et||r!=_t&&("function"==typeof n?t(n):!!n)},Ot=St.normalize=function(t){return String(t).replace(wt,".").toLowerCase()},Ct=St.data={},_t=St.NATIVE="N",Et=St.POLYFILL="P",kt=St,xt=P.f,$t=Object.defineProperty,jt={},Pt=function(t){throw t},Tt=dt.indexOf,Lt=[].indexOf,Rt=!!Lt&&1/[1].indexOf(1,-0)<0,Wt=!!(et=[]["indexOf"])&&t((function(){et.call(null,tt||function(){throw 1},1)})),Mt=function(n,r){if($(jt,n))return jt[n];r||(r={});var o=[][n],i=!!$(r,"ACCESSORS")&&r.ACCESSORS,c=$(r,0)?r[0]:Pt,s=$(r,1)?r[1]:void 0;return jt[n]=!!o&&!t((function(){if(i&&!e)return!0;var t={length:-1};i?$t(t,1,{enumerable:!0,get:Pt}):t[1]=1,o.call(t,c,s)}))}("indexOf",{ACCESSORS:!0,1:0});function Ft(t,e,n,r,o,i,c,s,f,u){"boolean"!=typeof c&&(f=s,s=c,c=!1); var a="function"==typeof n?n.options:n;let l;if(t&&t.render&&(a.render=t.render,a.staticRenderFns=t.staticRenderFns,a._compiled=!0,o&&(a.functional=!0)),r&&(a._scopeId=r),i?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,f(t)),t&&t._registeredComponents&&t._registeredComponents.add(i)},a._ssrRegister=l):e&&(l=c?function(t){e.call(this,u(t,this.$root.$options.shadowRoot))}:function(t){e.call(this,s(t))}),l)if(a.functional){ var t=a.render;a.render=function(e,n){return l.call(n),t(e,n)}}else{ var t=a.beforeCreate;a.beforeCreate=t?[].concat(t,l):[l]}return n}!function(t,e){var n,r,o,c,s,f=t.target,u=t.global,a=t.stat;if(n=u?i:a?i[f]||L(f,{}):(i[f]||{}).prototype)for(r in e){if(c=e[r],o=t.noTargetGet?(s=xt(n,r))&&s.value:n[r],!kt(u?r:f+(a?".":"#")+r,t.forced)&&void 0!==o){if(typeof c==typeof o)continue;bt(c,o)}(t.sham||o&&o.sham)&&T(c,"sham",!0),rt(n,r,c,t)}}({target:"Array",proto:!0,forced:Rt||!Wt||!Mt},{indexOf:function(t){return Rt?Lt.apply(this,arguments)||0:Tt(this,t,arguments.length>1?arguments[1]:void 0)}}); var Dt={name:"RPopover",props:{position:{type:String,default:"top",validator:function(t){return["top","bottom","left","right"].indexOf(t)>=0}},trigger:{type:String,default:"click",validator:function(t){return["click","hover"].indexOf(t)>=0}}},data:function(){return{visible:!1}},mounted:function(){this.addPopoverListeners()},beforeDestroy:function(){this.putBackContent(),this.removePopoverListeners()},computed:{openEvent:function(){return"click"===this.trigger?"click":"mouseenter"},closeEvent:function(){return"click"===this.trigger?"click":"mouseleave"}},methods:{addPopoverListeners:function(){"click"===this.trigger?this.$refs.popover.addEventListener("click",this.onClick):(this.$refs.popover.addEventListener("mouseenter",this.open),this.$refs.popover.addEventListener("mouseleave",this.close))},removePopoverListeners:function(){"click"===this.trigger?this.$refs.popover.removeEventListener("click",this.onClick):(this.$refs.popover.removeEventListener("mouseenter",this.open),this.$refs.popover.removeEventListener("mouseleave",this.close))},putBackContent:function(){var t=this.$refs,e=t.contentWrapper,n=t.popover;e&&n.appendChild(e)},positionContent:function(){var t=this.$refs,e=t.contentWrapper,n=t.triggerWrapper;document.body.appendChild(e);var r=n.getBoundingClientRect(),o=r.width,i=r.height,c=r.top,s=r.left,f=e.getBoundingClientRect().height,u={top:{top:c+window.scrollY,left:s+window.scrollX},bottom:{top:c+i+window.scrollY,left:s+window.scrollX},left:{top:c+window.scrollY+(i-f)/2,left:s+window.scrollX},right:{top:c+window.scrollY+(i-f)/2,left:s+window.scrollX+o}};e.style.left=u[this.position].left+"px",e.style.top=u[this.position].top+"px"},onClickDocument:function(t){this.$refs.popover&&(this.$refs.popover===t.target||this.$refs.popover.contains(t.target))||this.$refs.contentWrapper&&(this.$refs.contentWrapper===t.target||this.$refs.contentWrapper.contains(t.target))||this.close()},open:function(){var t=this;this.visible=!0,this.$nextTick((function(){t.positionContent(),document.addEventListener("click",t.onClickDocument)}))},close:function(){this.visible=!1,document.removeEventListener("click",this.onClickDocument)},onClick:function(t){this.$refs.triggerWrapper.contains(t.target)&&(!0===this.visible?this.close():this.open())}}};var It=function(){var t,e=this,n=e.$createElement,r=e._self._c||n;return r("div",{ref:"popover",staticClass:"popover"},[e.visible?r("div",{ref:"contentWrapper",staticClass:"content-wrapper",class:(t={},t["position-"+e.position]=!0,t)},[e._t("content",null,{close:e.close})],2):e._e(),e._v(" "),r("span",{ref:"triggerWrapper",staticStyle:{display:"inline-block"}},[e._t("default")],2)])};It._withStripped=!0; var Nt=Ft({render:It,staticRenderFns:[]},undefined,Dt,"data-v-0c731118",false,undefined,!1,void 0,void 0,void 0);return Nt.install=function(t){t.component(Nt.name,Nt)},Nt}));
